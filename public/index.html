<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Conflict Finder</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="alternate icon" href="/favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="/css/style.css">
</head>
<body class="ecf-body">
    <div class="ecf-surface">
        <div class="ecf-blur ecf-blur--one"></div>
        <div class="ecf-blur ecf-blur--two"></div>
    </div>

    <div class="ecf-page">
        <header class="ecf-header">
            <div class="brand">
                <div class="brand-icon">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12 3l7.794 4.5v9L12 21l-7.794-4.5v-9z" fill="none" stroke-width="1.6" stroke="currentColor" stroke-linejoin="round"></path>
                        <circle cx="12" cy="12" r="2.75" fill="currentColor"></circle>
                    </svg>
                </div>
                <div>
                    <p class="brand-title">Event Conflict Finder</p>
                    <p class="brand-subtitle">Phase I — Radar Console</p>
                </div>
            </div>
            <div class="header-actions">
                <button id="logout-button" class="header-logout hidden">Log out</button>
            </div>
        </header>

        <main class="ecf-main">
            <section class="hero">
                <div class="hero-copy">
                    <p class="eyebrow">Pro Venue Intelligence</p>
                    <h1>Take control of every stage slot</h1>
                    <p class="lead">A premium dashboard for spotting double bookings, venue saturation, and cross-platform clashes before they go live.</p>
                    <div class="hero-metrics">
                        <div class="metric-card">
                            <div class="metric-icon">
                                <svg viewBox="0 0 24 24" class="solar-icon" aria-hidden="true">
                                    <path d="M12 3l7 4v8l-7 4-7-4V7l7-4z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                    <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                </svg>
                            </div>
                            <p class="metric-label">Conflict-grade telemetry</p>
                            <p class="metric-value">Sub-minute</p>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">
                                <svg viewBox="0 0 24 24" class="solar-icon" aria-hidden="true">
                                    <circle cx="12" cy="12" r="6.5" stroke="currentColor" stroke-width="1.6" fill="none"/>
                                    <path d="M12 5.5v13m-6.5-6.5h13" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <p class="metric-label">Global venue coverage</p>
                            <p class="metric-value">45+ metros</p>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">
                                <svg viewBox="0 0 24 24" class="solar-icon" aria-hidden="true">
                                    <path d="M5 6.5h14M5 12h9M5 17.5h14" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <p class="metric-label">Premium design</p>
                            <p class="metric-value">Modern UI</p>
                        </div>
                    </div>
                </div>
                <div class="hero-panel">
                    <div class="hero-panel__badge">Conflict radar online</div>
                    <p class="hero-panel__title">“Sleek, secure, and lightning fast—now tailored for live events.”</p>
                    <p class="hero-panel__body">A premium operator experience designed for real-time event intelligence and conflict detection.</p>
                </div>
            </section>

            <section class="console">
                <div class="console-card">
                    <div class="console-head">
                        <div>
                            <p class="eyebrow">Live search</p>
                            <h2>Radar Console</h2>
                        </div>
                        <div class="console-theme">
                            <span>Theme</span>
                            <label class="theme-switch-wrapper">
                                <input type="checkbox" id="theme-toggle" class="theme-switch-input" aria-label="Toggle map theme">
                                <div id="theme-toggle-track" class="theme-switch-track" data-theme="light">
                                    <span class="theme-switch-icon sun" aria-hidden="true">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="4"></circle>
                                            <line x1="12" y1="2" x2="12" y2="5"></line>
                                            <line x1="12" y1="19" x2="12" y2="22"></line>
                                            <line x1="4.22" y1="4.22" x2="6.34" y2="6.34"></line>
                                            <line x1="17.66" y1="17.66" x2="19.78" y2="19.78"></line>
                                            <line x1="2" y1="12" x2="5" y2="12"></line>
                                            <line x1="19" y1="12" x2="22" y2="12"></line>
                                            <line x1="4.22" y1="19.78" x2="6.34" y2="17.66"></line>
                                            <line x1="17.66" y1="6.34" x2="19.78" y2="4.22"></line>
                                        </svg>
                                    </span>
                                    <span class="theme-switch-icon moon" aria-hidden="true">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M21 12.79A9 9 0 0 1 11.21 3 7 7 0 1 0 21 12.79z"></path>
                                        </svg>
                                    </span>
                                    <div class="theme-switch-thumb"></div>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="console-grid">
                        <div class="input-field input-field--location">
                            <label for="location">Location</label>
                            <div class="input-shell">
                                <svg viewBox="0 0 24 24" class="input-icon" aria-hidden="true">
                                    <path d="M12 21s-6.5-5.25-6.5-10.5A6.5 6.5 0 1 1 12 21z" stroke="currentColor" stroke-width="1.4" fill="none"/>
                                    <circle cx="12" cy="10.5" r="2.25" stroke="currentColor" stroke-width="1.3" fill="none"/>
                                </svg>
                                <input type="text" id="location" placeholder="Search a city or venue" autocomplete="off">
                            </div>
                            <!-- Dropdown menu for location suggestions -->
                            <div id="location-suggestions" class="location-dropdown hidden">
                                <ul class="p-2 text-sm text-body font-medium" aria-labelledby="location" role="listbox"></ul>
                            </div>
                        </div>
                        <div class="input-field input-field--radius">
                            <label for="radius">Search radius (miles)</label>
                            <div class="input-shell">
                                <svg viewBox="0 0 24 24" class="input-icon" aria-hidden="true">
                                    <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                </svg>
                                <input type="number" id="radius" value="25" min="1" max="100">
                            </div>
                        </div>
                        <div class="input-field input-field--time">
                            <label for="timeBuffer">Time buffer (minutes)</label>
                            <div class="input-shell">
                                <svg viewBox="0 0 24 24" class="input-icon" aria-hidden="true">
                                    <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="1.5" fill="none"/>
                                    <path d="M12 8v4l2.5 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <input type="number" id="timeBuffer" value="30" min="0" max="120">
                            </div>
                        </div>
                        <div class="input-field input-field--start">
                            <label for="startDate">Start date (optional)</label>
                            <div class="input-shell">
                                <svg viewBox="0 0 24 24" class="input-icon" aria-hidden="true">
                                    <path d="M7 4v3m10-3v3M5 8h14M6 11h12v9H6z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                </svg>
                                <input type="date" id="startDate">
                            </div>
                        </div>
                        <div class="input-field input-field--end">
                            <label for="endDate">End date (optional)</label>
                            <div class="input-shell">
                                <svg viewBox="0 0 24 24" class="input-icon" aria-hidden="true">
                                    <path d="M7 4v3m10-3v3M5 8h14M6 11h12v9H6z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                </svg>
                                <input type="date" id="endDate">
                            </div>
                        </div>
                        <div class="input-field input-field--venue">
                            <label for="venueRadiusKm">Venue radius (km)</label>
                            <div class="input-shell">
                                <svg viewBox="0 0 24 24" class="input-icon" aria-hidden="true">
                                    <path d="M12 2a7 7 0 0 1 7 7c0 5-7 13-7 13s-7-8-7-13a7 7 0 0 1 7-7z" stroke="currentColor" stroke-width="1.2" fill="none"/>
                                    <circle cx="12" cy="9" r="2.5" stroke="currentColor" stroke-width="1.2" fill="none"/>
                                </svg>
                                <select id="venueRadiusKm">
                                    <option value="1" selected>1 km (standard)</option>
                                    <option value="3">3 km (metro boost)</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-field input-field--cta">
                            <label class="sr-only" for="search-btn">Search</label>
                            <button id="search-btn" class="primary-btn">
                                <span>Deploy search</span>
                                <svg viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M5 12h14M13 6l6 6-6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="dashboard">
                <div class="map-card">
                    <div class="map-head">
                        <div>
                            <p class="eyebrow">Live feed</p>
                            <h3>Map intelligence</h3>
                        </div>
                        <p class="map-hint">Ticketmaster + Bandsintown overlays</p>
                    </div>
                    <div id="map" class="map-view"></div>
                </div>

                <div class="insights">
                    <div class="insight-card">
                        <div class="insight-head">
                            <div>
                                <p class="eyebrow">Event load</p>
                                <h3>Events found</h3>
                            </div>
                            <svg viewBox="0 0 24 24" class="insight-icon" aria-hidden="true">
                                <path d="M6 19.5V4m6 15.5V4m6 15.5V4" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div id="events-count" class="insight-value">0</div>
                        <div id="events-list" class="events-list"></div>
                    </div>

                    <div class="insight-card">
                        <div class="insight-head">
                            <div>
                                <p class="eyebrow">Conflict watch</p>
                                <h3 id="conflict-panel-title">Conflicts detected</h3>
                            </div>
                            <svg viewBox="0 0 24 24" class="insight-icon" aria-hidden="true">
                                <path d="M12 7v5l3 2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="1.4" fill="none"/>
                            </svg>
                        </div>
                        <div id="conflict-count" class="insight-value">0</div>
                        <div id="conflict-list" class="conflict-list"></div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="ecf-footer">
            <p>Built on Node + Express</p>
        </footer>
    </div>

    <div id="unsupported-country-modal" class="modal-overlay hidden">
        <div class="modal-panel animate-slide-up">
            <div class="modal-panel__head">
                <p>Coverage not available</p>
                <button id="modal-close-btn" aria-label="Close">&times;</button>
            </div>
            <div class="modal-panel__body">
                <p class="modal-panel__title">We haven’t deployed intel for <span id="modal-country-name">this location</span> yet.</p>
                <p class="modal-panel__text">We’re expanding soon—stay tuned for your metro.</p>
                <div class="modal-panel__support">
                    <p>Currently supported</p>
                    <span>United States, Canada, United Kingdom, Australia, New Zealand, and most European hubs.</span>
                </div>
            </div>
            <div class="modal-panel__footer">
                <button id="modal-ok-btn" class="primary-btn">Got it</button>
            </div>
        </div>
    </div>

    <div id="paywall-modal" class="modal-overlay hidden">
        <div class="paywall-panel animate-slide-up">
            <div class="paywall-panel__header">
                <h2>Unlimited plan required</h2>
                <button id="paywall-modal-close" aria-label="Close paywall modal">&times;</button>
            </div>
            <div class="paywall-panel__body">
                <p id="paywall-modal-copy">You’ve reached your free search limit. Sign in with an active plan or purchase unlimited access.</p>
                <div class="paywall-section">
                    <h3>Already purchased?</h3>
                    <form id="paywall-signin-form" class="paywall-form">
                        <label for="paywall-signin-email">Email address</label>
                        <input id="paywall-signin-email" type="email" required placeholder="you@example.com" />
                        <button type="submit" class="paywall-primary-btn">Unlock access</button>
                    </form>
                </div>
                <div class="paywall-divider"></div>
                <div class="paywall-section">
                    <h3>Need unlimited searches?</h3>
                    <p>Start a secure Polar checkout, enter your email, and we’ll activate unlimited searches automatically once payment clears.</p>
                    <button id="paywall-checkout-btn" class="paywall-secondary-btn">Buy unlimited plan</button>
                </div>
                <div id="paywall-message" class="paywall-message" data-variant="info"></div>
            </div>
            <div class="paywall-panel__footer">
                <p>Re-enter the same email anytime to regain access instantly.</p>
            </div>
        </div>
    </div>

    <div id="global-toast" class="global-toast hidden" data-variant="info"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>

